{% if companies %}
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Domain</th>
      <th>Industry</th>
      <th>Score</th>
      <th>Status</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for c in companies %}
    <tr id="company-{{ c.id }}">
      <td><a href="/companies/{{ c.id }}">{{ c.name }}</a></td>
      <td>{{ c.domain or '' }}</td>
      <td>{{ c.industry or '' }}</td>
      <td>
        {% if c.score is not none %}
        <div style="display:flex;align-items:center;gap:6px;">
          <div style="background:#e0e0e0;border-radius:3px;height:6px;width:60px;">
            <div style="background:var(--pico-primary-color, #1095c1);height:100%;border-radius:3px;width:{{ (c.score * 100)|int }}%;"></div>
          </div>
          <small>{{ '%.0f'|format(c.score * 100) }}%</small>
        </div>
        {% else %}
        <small style="color:var(--pico-muted-color);">&mdash;</small>
        {% endif %}
      </td>
      <td>{{ c.status or 'active' }}</td>
      <td>
        <button class="outline secondary"
                style="padding:0.2rem 0.5rem;font-size:0.75rem"
                hx-delete="/companies/{{ c.id }}"
                hx-target="#company-{{ c.id }}"
                hx-swap="outerHTML"
                hx-confirm="Delete company '{{ c.name }}'?">Delete</button>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% else %}
<p class="empty-state">No companies found.</p>
{% endif %}
